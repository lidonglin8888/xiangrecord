import router from '@ohos.router';

/**
 * é€šç”¨é¡¶éƒ¨å¯¼èˆªç»„ä»¶
 * @param title é¡µé¢æ ‡é¢˜
 * @param showBackButton æ˜¯å¦æ˜¾ç¤ºè¿”å›žæŒ‰é’®ï¼Œé»˜è®¤ä¸ºtrue
 * @param rightIcon å³ä¾§å›¾æ ‡ï¼Œé»˜è®¤ä¸ºðŸ’©
 * @param onBack è‡ªå®šä¹‰è¿”å›žäº‹ä»¶ï¼Œé»˜è®¤ä¸ºrouter.back()
 * @param onRightIconClick å³ä¾§å›¾æ ‡ç‚¹å‡»äº‹ä»¶
 * @param rightIconClickable å³ä¾§å›¾æ ‡æ˜¯å¦å¯ç‚¹å‡»ï¼Œé»˜è®¤ä¸ºfalse
 */
@Component
export struct TopNavigation {
  @Prop title: string = '';
  @Prop showBackButton: boolean = true;
  @Prop rightIcon: string = 'ðŸ’©';
  @Prop rightIconClickable: boolean = false;
  private onBack?: () => void;
  private onRightIconClick?: () => void;

  build() {
    Row() {
      if (this.showBackButton) {
        Button('<')
          .backgroundColor(Color.Transparent)
          .fontColor('#8B4513')
          .fontSize(18)
          .onClick(() => {
            if (this.onBack) {
              this.onBack();
            } else {
              router.back();
            }
          })
      }
      
      Blank()
      
      Text(this.title)
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .fontColor('#8B4513')
      
      Blank()
      
      if (this.rightIconClickable) {
        Button(this.rightIcon)
          .backgroundColor(Color.Transparent)
          .fontSize(24)
          .onClick(() => {
            if (this.onRightIconClick) {
              this.onRightIconClick();
            }
          })
      } else {
        Text(this.rightIcon)
          .fontSize(24)
      }
    }
    .width('100%')
    .padding({ left: 16, right: 16, top: 20, bottom: 10 })
  }
}